"use strict";var L=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(i,t)=>{for(var e in t)L(i,e,{get:t[e],enumerable:!0})},j=(i,t,e,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of K(t))!Y.call(i,n)&&n!==e&&L(i,n,{get:()=>t[n],enumerable:!(p=z(t,n))||p.enumerable});return i};var tt=i=>j(L({},"__esModule",{value:!0}),i);var ot={};Z(ot,{default:()=>J});module.exports=tt(ot);var s=require("react"),y=require("@raycast/api");var T=require("@raycast/api");var A=new T.Cache;var et=require("@raycast/api");var D=require("@raycast/api"),{layout:g,columns:O,itemInset:q,refreshInterval:it}=(0,D.getPreferenceValues)();var V=i=>{let[t,e]=(0,s.useState)(!0),[p,n]=(0,s.useState)([]),[o,E]=(0,s.useState)([]),R=(0,s.useCallback)(async()=>{e(!0);let $=await(0,y.getApplications)(),v=A.get("Quit App"),P=[];typeof v=="string"&&(P=JSON.parse(v));let B=$.filter(M=>!P.some(X=>M.bundleId==X.bundleId));n(P),E(B),e(!1)},[i]);return(0,s.useEffect)(()=>{R()},[R]),{quitApps:p,disQuitApps:o,loading:t}};var U=require("react");var I=require("@raycast/api");var _=require("@raycast/api");var u=require("@raycast/api");var r=require("@raycast/api"),m=require("react/jsx-runtime");function h(){return(0,m.jsxs)(r.ActionPanel.Section,{children:[(0,m.jsx)(r.Action,{icon:r.Icon.Gear,title:"Open Command Preferences",shortcut:{modifiers:["shift","cmd"],key:","},onAction:r.openCommandPreferences}),(0,m.jsx)(r.Action,{icon:r.Icon.Gear,title:"Open Extension Preferences",shortcut:{modifiers:["shift","cmd"],key:"."},onAction:r.openExtensionPreferences})]})}var d=require("react/jsx-runtime");function Q(i){let{app:t,apps:e,setRefresh:p}=i,n=e.some(o=>o.path===t.path);return(0,d.jsxs)(u.ActionPanel,{children:[(0,d.jsx)(u.Action,{title:n?"Disable Auto Quit":"Enable Auto Quit",icon:n?u.Icon.XMarkCircle:u.Icon.Circle,onAction:async()=>{let o=[...e];if(n){let E=o.filter(R=>R.path!==t.path);A.set("Quit App",JSON.stringify(E))}else o.push(t),A.set("Quit App",JSON.stringify(o));p(Date.now())}}),(0,d.jsx)(h,{})]})}var b=require("react/jsx-runtime");function N(i){let{setRefresh:t,app:e,apps:p}=i;return(0,b.jsx)(_.List.Item,{title:e.name,icon:{fileIcon:e.path},quickLook:{path:e.path,name:e.name},actions:(0,b.jsx)(Q,{app:e,apps:p,setRefresh:t})})}var f=require("@raycast/api");var l=require("react/jsx-runtime");function S(){return g==="List"?(0,l.jsx)(f.List.EmptyView,{icon:{source:"empty-view-icon.png"},title:"No App",actions:(0,l.jsx)(f.ActionPanel,{children:(0,l.jsx)(h,{})})}):(0,l.jsx)(f.Grid.EmptyView,{icon:{source:"empty-view-icon.png"},title:"No App",actions:(0,l.jsx)(f.ActionPanel,{children:(0,l.jsx)(h,{})})})}var a=require("react/jsx-runtime");function W(i){let{quitApp:t,disQuitApp:e,setRefresh:p,loading:n}=i;return(0,a.jsxs)(I.List,{isLoading:n,searchBarPlaceholder:"Search apps",children:[(0,a.jsx)(S,{}),(0,a.jsx)(I.List.Section,{title:"Quit Apps",children:t.map(o=>(0,a.jsx)(N,{setRefresh:p,app:o,apps:t},o.path))}),(0,a.jsx)(I.List.Section,{title:"Dis Quit Apps",children:e.map(o=>(0,a.jsx)(N,{setRefresh:p,app:o,apps:t},o.path))})]})}var w=require("@raycast/api");var C=require("@raycast/api");var k=require("react/jsx-runtime");function x(i){let{setRefresh:t,app:e,quitApps:p}=i;return(0,k.jsx)(C.Grid.Item,{title:e.name,content:{fileIcon:e.path},quickLook:{path:e.path,name:e.name},actions:(0,k.jsx)(Q,{app:e,apps:p,setRefresh:t})})}var F=i=>!(i!=null&&String(i).length>0);var c=require("react/jsx-runtime");function H(i){let{quitApp:t,disQuitApp:e,setRefresh:p,loading:n}=i;return(0,c.jsxs)(w.Grid,{columns:parseInt(O),inset:F(q)?void 0:q,isLoading:n,searchBarPlaceholder:"Search apps",children:[(0,c.jsx)(S,{}),(0,c.jsx)(w.Grid.Section,{title:"Quit Apps",children:t.map(o=>(0,c.jsx)(x,{setRefresh:p,app:o,quitApps:t},o.path))}),(0,c.jsx)(w.Grid.Section,{title:"Dis Quit Apps",children:e.map(o=>(0,c.jsx)(x,{setRefresh:p,app:o,quitApps:t},o.path))})]})}var G=require("react/jsx-runtime");function J(){let[i,t]=(0,U.useState)(0),{quitApps:e,disQuitApps:p,loading:n}=V(i);return g==="List"?(0,G.jsx)(W,{quitApp:e,disQuitApp:p,setRefresh:t,loading:n}):(0,G.jsx)(H,{quitApp:e,disQuitApp:p,setRefresh:t,loading:n})}
